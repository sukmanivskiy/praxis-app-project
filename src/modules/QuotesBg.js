import gsap from "gsap";

export default class {
  constructor(el) {
    this.el = el;
    this.init();
  }

  init() {
    this.setInitial();
    this.createTimeline();
  }

  setInitial() {
    gsap.set(this.el, {
      '--c-0': 'hsla(212,0%,0%,1)',
      '--x-0': '93%',
      '--y-0': '93%',
      '--s-start-0': '14.49%',
      '--s-end-0': '72%',

      '--c-1': 'hsla(212,0%,0%,1)',
      '--x-1': '26%',
      '--y-1': '9%',
      '--s-start-1': '0%',
      '--s-end-1': '45%',

      '--c-2': 'hsla(166,94%,19%,0.3)',
      '--x-2': '15%',
      '--y-2': '79%',
      '--s-start-2': '2.92%',
      '--s-end-2': '22.38%',

      '--c-3': 'hsla(166,94%,19%,0.3)',
      '--x-3': '40%',
      '--y-3': '104%',
      '--s-start-3': '3.98%',
      '--s-end-3': '47.58%',

      '--c-4': 'hsla(166,94%,19%,0.3)',
      '--x-4': '0%',
      '--y-4': '60%',
      '--s-start-4': '2.39%',
      '--s-end-4': '29.30%',

      '--c-5': 'hsla(166,94%,19%,0.3)',
      '--x-5': '92%',
      '--y-5': '37%',
      '--s-start-5': '2.92%',
      '--s-end-5': '22.38%',

      '--c-6': 'hsla(166,94%,19%,0.3)',
      '--x-6': '101%',
      '--y-6': '16%',
      '--s-start-6': '13.17%',
      '--s-end-6': '31.74%',

      '--c-7': 'hsla(166,94%,19%,0.3)',
      '--x-7': '90%',
      '--y-7': '13%',
      '--s-start-7': '1%',
      '--s-end-7': '31%',

      '--c-8': 'hsla(166,94%,19%,0.3)',
      '--x-8': '104%',
      '--y-8': '56%',
      '--s-start-8': '3.98%',
      '--s-end-8': '13.10%',

      '--c-9': 'hsla(166,94%,19%,0.3)',
      '--x-9': '97%',
      '--y-9': '19%',
      '--s-start-9': '18.59%',
      '--s-end-9': '31%',
    });
  }

  createTimeline() {
    this.tl = gsap.timeline({
      repeat: -1,
      yoyo: true,
      defaults: { duration: 20, ease: 'none' }
    });

    this.tl.to(this.el, {
      '--c-0': 'hsla(306,0%,0%,1)',
      '--x-0': '7%',
      '--y-0': '9%',
      '--s-start-0': '2.39%',
      '--s-end-0': '43.90%',

      '--c-1': 'hsla(306,0%,0%,1)',
      '--x-1': '96%',
      '--y-1': '93%',
      '--s-start-1': '9%',
      '--s-end-1': '54.80%',

      '--c-2': 'hsla(155,100%,43%,0.23)',
      '--x-2': '-2%',
      '--y-2': '103%',
      '--s-start-2': '3%',
      '--s-end-2': '26.72%',

      '--c-3': 'hsla(155,100%,43%,0.23)',
      '--x-3': '33%',
      '--y-3': '82%',
      '--s-end-3': '32.06%',

      '--c-4': 'hsla(155,100%,43%,0.23)',
      '--x-4': '37%',
      '--y-4': '81%',
      '--s-end-4': '37.23%',

      '--c-5': 'hsla(155,100%,43%,0.23)',
      '--x-5': '54%',
      '--y-5': '99%',
      '--s-end-5': '32.53%',

      '--c-6': 'hsla(155,100%,43%,0.23)',
      '--x-6': '104%',
      '--y-6': '43%',
      '--s-end-6': '42.50%',

      '--c-7': 'hsla(155,100%,43%,0.23)',
      '--x-7': '104%',
      '--y-7': '-16%',
      '--s-end-7': '13.10%',

      '--c-8': 'hsla(155,100%,43%,0.23)',
      '--x-8': '97%',
      '--y-8': '30%',
      '--s-end-8': '27.14%',

      '--c-9': 'hsla(155,100%,43%,0.23)',
      '--x-9': '78%',
      '--y-9': '4%',
      '--s-end-9': '21.32%',
    });
  }

  destroy() {
    this.tl.kill();
  }
}
